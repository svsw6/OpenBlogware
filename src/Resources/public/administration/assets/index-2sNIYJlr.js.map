{"version":3,"file":"index-2sNIYJlr.js","sources":["../../../app/administration/src/module/blog-module/elements/blog-newest-listing/config/werkl-cms-el-config-blog-newest-listing.html.twig","../../../app/administration/src/module/blog-module/elements/blog-newest-listing/config/index.js"],"sourcesContent":["{% block werkl_cms_element_blog_newest_listing_config %}\r\n<div class=\"werkl-cms-el-config-blog-newest-listing\">\r\n\r\n    {% block werkl_cms_element_blog_newest_listing_config_item_count %}\r\n    <mt-number-field\r\n        v-model=\"element.config.itemCount.value\"\r\n        number-type=\"int\"\r\n        :min=\"1\"\r\n        :max=\"null\"\r\n        :digits=\"2\"\r\n        :allow-empty=\"false\"\r\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.itemCount')\"\r\n    />\r\n    {% endblock %}\r\n\r\n    {% block werkl_cms_element_blog_newest_listing_config_offset_count %}\r\n    <mt-number-field\r\n        v-model=\"element.config.offsetCount.value\"\r\n        number-type=\"int\"\r\n        :min=\"0\"\r\n        :max=\"null\"\r\n        :digits=\"2\"\r\n        :allow-empty=\"false\"\r\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.offsetCount')\"\r\n    />\r\n    {% endblock %}\r\n\r\n    {% block werkl_cms_element_blog_newest_listing_config_show_type %}\r\n    <mt-select\r\n        v-model=\"element.config.showType.value\"\r\n        :options=\"showTypeOptions\"\r\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.showType.label')\"\r\n    />\r\n    {% endblock %}\r\n\r\n    {% block werkl_cms_element_blog_newest_listing_config_blog_categories %}\r\n    <werkl-blog-category-tree-field\r\n        v-if=\"element.config.showType.value === 'select'\"\r\n        :categories-collection=\"blogCategoryCollection\"\r\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.label')\"\r\n        :placeholder=\"$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.placeholder')\"\r\n        class=\"sw-product-detail__select-category\"\r\n        @selection-add=\"onBlogCategoriesChange\"\r\n        @selection-remove=\"onBlogCategoriesChange\"\r\n    />\r\n    {% endblock %}\r\n\r\n</div>\r\n{% endblock %}\r\n","import template from './werkl-cms-el-config-blog-newest-listing.html.twig';\r\n\r\nconst { Mixin } = Shopware;\r\nconst { EntityCollection, Criteria } = Shopware.Data;\r\n\r\nexport default {\r\n    template,\r\n\r\n    inject: ['repositoryFactory'],\r\n\r\n    mixins: [\r\n        Mixin.getByName('cms-element'),\r\n    ],\r\n\r\n    data() {\r\n        return {\r\n            blogCategoryCollection: null,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        blogCategoryRepository() {\r\n            return this.repositoryFactory.create('werkl_blog_category');\r\n        },\r\n\r\n        showTypeOptions() {\r\n            return [\r\n                {\r\n                    id: 1,\r\n                    value: 'all',\r\n                    label: this.$tc('werkl-blog.elements.blogNewestListing.config.showType.options.all'),\r\n                },\r\n                {\r\n                    id: 2,\r\n                    value: 'select',\r\n                    label: this.$tc('werkl-blog.elements.blogNewestListing.config.showType.options.select'),\r\n                },\r\n            ];\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.createdComponent();\r\n    },\r\n\r\n    methods: {\r\n        async createdComponent() {\r\n            this.initElementConfig('blog-newest-listing');\r\n            this.initElementData('blog-newest-listing');\r\n\r\n            await this.loadBlogCategories();\r\n        },\r\n\r\n        async loadBlogCategories() {\r\n            this.blogCategoryCollection = new EntityCollection(\r\n                this.blogCategoryRepository.route,\r\n                this.blogCategoryRepository.schema.entity,\r\n                Shopware.Context.api\r\n            );\r\n\r\n            if (this.element.config.blogCategories.value.length <= 0) {\r\n                return;\r\n            }\r\n\r\n            const criteria = new Criteria();\r\n            criteria.setIds(this.element.config.blogCategories.value);\r\n\r\n            this.blogCategoryCollection = await this.blogCategoryRepository.search(criteria, Shopware.Context.api);\r\n        },\r\n\r\n        onBlogCategoriesChange() {\r\n            this.element.config.blogCategories.value = this.blogCategoryCollection.getIds();\r\n\r\n            if (this.element.translated?.config?.blogCategories) {\r\n                this.element.translated.config.blogCategories = this.blogCategoryCollection.getIds();\r\n            }\r\n\r\n            if (!this.element?.data) {\r\n                return;\r\n            }\r\n\r\n            this.element.data.blogCategories = this.blogCategoryCollection;\r\n        },\r\n    },\r\n};\r\n"],"names":["template","Mixin","EntityCollection","Criteria","index","criteria","_a","_b","_c"],"mappings":"AAAA,MAAeA,EAAA,q8CCET,CAAE,MAAAC,CAAO,EAAG,SACZ,CAAE,iBAAAC,EAAkB,SAAAC,GAAa,SAAS,KAEjCC,EAAA,CACX,SAAAJ,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,aAAa,CAChC,EAED,MAAO,CACH,MAAO,CACH,uBAAwB,IACpC,CACK,EAED,SAAU,CACN,wBAAyB,CACrB,OAAO,KAAK,kBAAkB,OAAO,qBAAqB,CAC7D,EAED,iBAAkB,CACd,MAAO,CACH,CACI,GAAI,EACJ,MAAO,MACP,MAAO,KAAK,IAAI,mEAAmE,CACtF,EACD,CACI,GAAI,EACJ,MAAO,SACP,MAAO,KAAK,IAAI,sEAAsE,CACzF,CACjB,CACS,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,MAAM,kBAAmB,CACrB,KAAK,kBAAkB,qBAAqB,EAC5C,KAAK,gBAAgB,qBAAqB,EAE1C,MAAM,KAAK,oBACd,EAED,MAAM,oBAAqB,CAOvB,GANA,KAAK,uBAAyB,IAAIC,EAC9B,KAAK,uBAAuB,MAC5B,KAAK,uBAAuB,OAAO,OACnC,SAAS,QAAQ,GACjC,EAEgB,KAAK,QAAQ,OAAO,eAAe,MAAM,QAAU,EACnD,OAGJ,MAAMG,EAAW,IAAIF,EACrBE,EAAS,OAAO,KAAK,QAAQ,OAAO,eAAe,KAAK,EAExD,KAAK,uBAAyB,MAAM,KAAK,uBAAuB,OAAOA,EAAU,SAAS,QAAQ,GAAG,CACxG,EAED,wBAAyB,CDtEjC,IAAAC,EAAAC,EAAAC,ECuEY,KAAK,QAAQ,OAAO,eAAe,MAAQ,KAAK,uBAAuB,UAEnED,GAAAD,EAAA,KAAK,QAAQ,aAAb,YAAAA,EAAyB,SAAzB,MAAAC,EAAiC,iBACjC,KAAK,QAAQ,WAAW,OAAO,eAAiB,KAAK,uBAAuB,WAG3EC,EAAA,KAAK,UAAL,MAAAA,EAAc,OAInB,KAAK,QAAQ,KAAK,eAAiB,KAAK,uBAC3C,CACJ,CACL"}