{"version":3,"file":"index-C293HHHL.js","sources":["../../../app/administration/src/module/blog-module/page/werkl-blog-list/werkl-blog-list.html.twig","../../../app/administration/src/module/blog-module/page/werkl-blog-list/index.js"],"sourcesContent":["{% block werkl_blog_list %}\r\n<sw-page class=\"werkl-blog-list\">\r\n    <template #smart-bar-header>\r\n        <h2>\r\n            {% block werkl_blog_list_smart_bar_header_title_text %}\r\n            {{ $tc('werkl-blog.list.textBlogOverview') }}\r\n            {% endblock %}\r\n\r\n            {% block werkl_blog_list_smart_bar_header_amount %}\r\n            <span v-if=\"!isLoading\" class=\"sw-page__smart-bar-amount\">\r\n                ({{ total }})\r\n            </span>\r\n            {% endblock %}\r\n        </h2>\r\n    </template>\r\n\r\n    <template #language-switch>\r\n        <sw-language-switch @on-change=\"changeLanguage\" />\r\n    </template>\r\n\r\n    {% block werkl_blog_list_smart_bar_actions %}\r\n    <template #smart-bar-actions>\r\n        {% block werkl_blog_list_smart_bar_actions_add %}\r\n        <mt-button\r\n            variant=\"primary\"\r\n            size=\"default\"\r\n            @click=\"$router.push({ name: 'blog.module.create' })\"\r\n        >\r\n            {{ $tc('werkl-blog.list.buttonAddBlogEntry') }}\r\n        </mt-button>\r\n\r\n        <mt-button\r\n            variant=\"secondary\"\r\n            size=\"default\"\r\n            @click=\"openSponsorPage\"\r\n        >\r\n            {{ $tc('werkl-blog.list.buttonSponsor') }}\r\n        </mt-button>\r\n        {% endblock %}\r\n    </template>\r\n    {% endblock %}\r\n\r\n    <template #sidebar>\r\n        <werkl-blog-vertical-tabs />\r\n    </template>\r\n\r\n    <template #side-content>\r\n        {% block werkl_blog_category_side_content %}\r\n        <werkl-blog-category-tree\r\n            :categoryId=\"categoryId\"\r\n            :currentLanguageId=\"currentLanguageId\"\r\n            @update:categoryId=\"changeCategoryId\"\r\n        />\r\n        {% endblock %}\r\n    </template>\r\n\r\n    <template #content>\r\n        {% block werkl_blog_list_content %}\r\n        <sw-entity-listing\r\n            v-if=\"blogEntries\"\r\n            :items=\"blogEntries\"\r\n            :repository=\"blogEntryRepository\"\r\n            :show-selection=\"false\"\r\n            :columns=\"columns\"\r\n            detail-route=\"blog.module.detail\"\r\n        >\r\n            {% block werkl_blog_list_grid_columns_name %}\r\n            <template #column-active=\"{ item, isInlineEdit }\">\r\n                {% block werkl_blog_list_grid_columns_name_inline_edit %}\r\n                <template v-if=\"isInlineEdit\">\r\n                    <mt-checkbox v-model:checked=\"item.active\" />\r\n                </template>\r\n                {% endblock %}\r\n\r\n                {% block werkl_blog_list_grid_columns_name_content %}\r\n                <template v-else>\r\n                    <mt-icon\r\n                        v-if=\"item.active\"\r\n                        name=\"regular-checkmark-xs\"\r\n                        size=\"16px\"\r\n                        class=\"is--active\"\r\n                    />\r\n                    <mt-icon\r\n                        v-else\r\n                        name=\"regular-times-xs\"\r\n                        size=\"16px\"\r\n                        class=\"is--inactive\"\r\n                    />\r\n                </template>\r\n                {% endblock %}\r\n            </template>\r\n            {% endblock %}\r\n\r\n            {% block werkl_blog_list_grid_columns_author %}\r\n            <template #column-author=\"{ item }\">\r\n                {% block werkl_blog_list_grid_columns_author_content %}\r\n                <router-link :to=\"{ name: 'blog.module.author.detail', params: { id: item.authorId } }\">\r\n                    {{ salutation(item.blogAuthor) }}\r\n                </router-link>\r\n                {% endblock %}\r\n            </template>\r\n            {% endblock %}\r\n\r\n            {% block werkl_blog_list_grid_columns_published %}\r\n            <template #column-publishedAt=\"{ item }\">\r\n                {{ dateFilter(item.publishedAt, { hour: undefined, minute: undefined }) }}\r\n            </template>\r\n            {% endblock %}\r\n\r\n        </sw-entity-listing>\r\n        {% endblock %}\r\n\r\n        {% block werkl_blog_list_empty_state %}\r\n        <sw-empty-state\r\n            v-if=\"!isLoading && !total\"\r\n            :title=\"$tc('werkl-blog.list.messageEmpty')\"\r\n        >\r\n            {{ $tc('werkl-blog-author.list.messageEmpty') }}\r\n        </sw-empty-state>\r\n        {% endblock %}\r\n    </template>\r\n</sw-page>\r\n{% endblock %}\r\n","import template from './werkl-blog-list.html.twig';\r\nimport './werkl-blog-list.scss';\r\n\r\nconst { Mixin } = Shopware;\r\nconst Criteria = Shopware.Data.Criteria;\r\n\r\nexport default {\r\n    template,\r\n\r\n    inject: ['repositoryFactory'],\r\n\r\n    mixins: [\r\n        Mixin.getByName('salutation'),\r\n        Mixin.getByName('listing'),\r\n    ],\r\n\r\n    data() {\r\n        return {\r\n            categoryId: null,\r\n            blogEntries: null,\r\n            total: 0,\r\n            isLoading: true,\r\n            currentLanguageId: Shopware.Context.api.languageId,\r\n        };\r\n    },\r\n\r\n    metaInfo() {\r\n        return {\r\n            title: this.$createTitle(),\r\n        };\r\n    },\r\n\r\n    created() {\r\n        this.getList();\r\n    },\r\n\r\n    computed: {\r\n        blogEntryRepository() {\r\n            return this.repositoryFactory.create('werkl_blog_entry');\r\n        },\r\n\r\n        blogCategoryRepository() {\r\n            return this.repositoryFactory.create('werkl_blog_category');\r\n        },\r\n\r\n        dateFilter() {\r\n            return Shopware.Filter.getByName('date');\r\n        },\r\n\r\n        columns() {\r\n            return [\r\n                {\r\n                    property: 'title',\r\n                    dataIndex: 'title',\r\n                    label: this.$tc('werkl-blog.list.table.title'),\r\n                    routerLink: 'blog.module.detail',\r\n                    primary: true,\r\n                    inlineEdit: 'string',\r\n                },\r\n                {\r\n                    property: 'author',\r\n                    label: this.$tc('werkl-blog.list.table.author'),\r\n                    inlineEdit: false,\r\n                },\r\n                {\r\n                    property: 'publishedAt',\r\n                    label: this.$tc('werkl-blog.list.table.publishedAt'),\r\n                    inlineEdit: false,\r\n                },\r\n                {\r\n                    property: 'active',\r\n                    label: this.$tc('werkl-blog.list.table.active'),\r\n                    inlineEdit: 'boolean',\r\n                },\r\n            ];\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        changeLanguage(newLanguageId) {\r\n            this.currentLanguageId = newLanguageId;\r\n            this.getList();\r\n        },\r\n\r\n        changeCategoryId(categoryId) {\r\n            if (categoryId && categoryId !== this.categoryId) {\r\n                this.categoryId = categoryId;\r\n                this.getList();\r\n            }\r\n        },\r\n\r\n        getList() {\r\n            this.isLoading = true;\r\n            const criteria = new Criteria(this.page, this.limit);\r\n            criteria.addAssociation('blogAuthor');\r\n            criteria.addAssociation('blogCategories');\r\n            criteria.addAssociation('tags');\r\n\r\n            criteria.addSorting(Criteria.sort('publishedAt', 'DESC', false));\r\n\r\n            if (this.categoryId) {\r\n                criteria.addFilter(Criteria.equals('blogCategories.id', this.categoryId));\r\n            }\r\n            return this.blogEntryRepository.search(criteria, Shopware.Context.api).then((result) => {\r\n                this.total = result.total;\r\n                this.blogEntries = result;\r\n                this.isLoading = false;\r\n            });\r\n        },\r\n\r\n        openSponsorPage() {\r\n            window.open('https://github.com/sponsors/7underlines', '_blank');\r\n        },\r\n    },\r\n};\r\n"],"names":["template","Mixin","Criteria","index","newLanguageId","categoryId","criteria","result"],"mappings":"AAAA,MAAeA,EAAA,ivFCGT,CAAE,MAAAC,CAAO,EAAG,SACZC,EAAW,SAAS,KAAK,SAEhBC,EAAA,CACX,SAAAH,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,YAAY,EAC5BA,EAAM,UAAU,SAAS,CAC5B,EAED,MAAO,CACH,MAAO,CACH,WAAY,KACZ,YAAa,KACb,MAAO,EACP,UAAW,GACX,kBAAmB,SAAS,QAAQ,IAAI,UACpD,CACK,EAED,UAAW,CACP,MAAO,CACH,MAAO,KAAK,aAAc,CACtC,CACK,EAED,SAAU,CACN,KAAK,QAAO,CACf,EAED,SAAU,CACN,qBAAsB,CAClB,OAAO,KAAK,kBAAkB,OAAO,kBAAkB,CAC1D,EAED,wBAAyB,CACrB,OAAO,KAAK,kBAAkB,OAAO,qBAAqB,CAC7D,EAED,YAAa,CACT,OAAO,SAAS,OAAO,UAAU,MAAM,CAC1C,EAED,SAAU,CACN,MAAO,CACH,CACI,SAAU,QACV,UAAW,QACX,MAAO,KAAK,IAAI,6BAA6B,EAC7C,WAAY,qBACZ,QAAS,GACT,WAAY,QACf,EACD,CACI,SAAU,SACV,MAAO,KAAK,IAAI,8BAA8B,EAC9C,WAAY,EACf,EACD,CACI,SAAU,cACV,MAAO,KAAK,IAAI,mCAAmC,EACnD,WAAY,EACf,EACD,CACI,SAAU,SACV,MAAO,KAAK,IAAI,8BAA8B,EAC9C,WAAY,SACf,CACjB,CACS,CACJ,EAED,QAAS,CACL,eAAeG,EAAe,CAC1B,KAAK,kBAAoBA,EACzB,KAAK,QAAO,CACf,EAED,iBAAiBC,EAAY,CACrBA,GAAcA,IAAe,KAAK,aAClC,KAAK,WAAaA,EAClB,KAAK,QAAO,EAEnB,EAED,SAAU,CACN,KAAK,UAAY,GACjB,MAAMC,EAAW,IAAIJ,EAAS,KAAK,KAAM,KAAK,KAAK,EACnD,OAAAI,EAAS,eAAe,YAAY,EACpCA,EAAS,eAAe,gBAAgB,EACxCA,EAAS,eAAe,MAAM,EAE9BA,EAAS,WAAWJ,EAAS,KAAK,cAAe,OAAQ,EAAK,CAAC,EAE3D,KAAK,YACLI,EAAS,UAAUJ,EAAS,OAAO,oBAAqB,KAAK,UAAU,CAAC,EAErE,KAAK,oBAAoB,OAAOI,EAAU,SAAS,QAAQ,GAAG,EAAE,KAAMC,GAAW,CACpF,KAAK,MAAQA,EAAO,MACpB,KAAK,YAAcA,EACnB,KAAK,UAAY,EACjC,CAAa,CACJ,EAED,iBAAkB,CACd,OAAO,KAAK,0CAA2C,QAAQ,CAClE,CACJ,CACL"}