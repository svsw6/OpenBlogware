{"version":3,"file":"index-2sNIYJlr.js","sources":["../../../app/administration/src/module/blog-module/elements/blog-newest-listing/config/werkl-cms-el-config-blog-newest-listing.html.twig","../../../app/administration/src/module/blog-module/elements/blog-newest-listing/config/index.js"],"sourcesContent":["{% block werkl_cms_element_blog_newest_listing_config %}\n<div class=\"werkl-cms-el-config-blog-newest-listing\">\n\n    {% block werkl_cms_element_blog_newest_listing_config_item_count %}\n    <mt-number-field\n        v-model=\"element.config.itemCount.value\"\n        number-type=\"int\"\n        :min=\"1\"\n        :max=\"null\"\n        :digits=\"2\"\n        :allow-empty=\"false\"\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.itemCount')\"\n    />\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_newest_listing_config_offset_count %}\n    <mt-number-field\n        v-model=\"element.config.offsetCount.value\"\n        number-type=\"int\"\n        :min=\"0\"\n        :max=\"null\"\n        :digits=\"2\"\n        :allow-empty=\"false\"\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.offsetCount')\"\n    />\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_newest_listing_config_show_type %}\n    <mt-select\n        v-model=\"element.config.showType.value\"\n        :options=\"showTypeOptions\"\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.showType.label')\"\n    />\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_newest_listing_config_blog_categories %}\n    <werkl-blog-category-tree-field\n        v-if=\"element.config.showType.value === 'select'\"\n        :categories-collection=\"blogCategoryCollection\"\n        :label=\"$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.label')\"\n        :placeholder=\"$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.placeholder')\"\n        class=\"sw-product-detail__select-category\"\n        @selection-add=\"onBlogCategoriesChange\"\n        @selection-remove=\"onBlogCategoriesChange\"\n    />\n    {% endblock %}\n\n</div>\n{% endblock %}\n","import template from './werkl-cms-el-config-blog-newest-listing.html.twig';\n\nconst { Mixin } = Shopware;\nconst { EntityCollection, Criteria } = Shopware.Data;\n\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            blogCategoryCollection: null,\n        };\n    },\n\n    computed: {\n        blogCategoryRepository() {\n            return this.repositoryFactory.create('werkl_blog_category');\n        },\n\n        showTypeOptions() {\n            return [\n                {\n                    id: 1,\n                    value: 'all',\n                    label: this.$tc('werkl-blog.elements.blogNewestListing.config.showType.options.all'),\n                },\n                {\n                    id: 2,\n                    value: 'select',\n                    label: this.$tc('werkl-blog.elements.blogNewestListing.config.showType.options.select'),\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.initElementConfig('blog-newest-listing');\n            this.initElementData('blog-newest-listing');\n\n            await this.loadBlogCategories();\n        },\n\n        async loadBlogCategories() {\n            this.blogCategoryCollection = new EntityCollection(\n                this.blogCategoryRepository.route,\n                this.blogCategoryRepository.schema.entity,\n                Shopware.Context.api\n            );\n\n            if (this.element.config.blogCategories.value.length <= 0) {\n                return;\n            }\n\n            const criteria = new Criteria();\n            criteria.setIds(this.element.config.blogCategories.value);\n\n            this.blogCategoryCollection = await this.blogCategoryRepository.search(criteria, Shopware.Context.api);\n        },\n\n        onBlogCategoriesChange() {\n            this.element.config.blogCategories.value = this.blogCategoryCollection.getIds();\n\n            if (this.element.translated?.config?.blogCategories) {\n                this.element.translated.config.blogCategories = this.blogCategoryCollection.getIds();\n            }\n\n            if (!this.element?.data) {\n                return;\n            }\n\n            this.element.data.blogCategories = this.blogCategoryCollection;\n        },\n    },\n};\n"],"names":["template","Mixin","EntityCollection","Criteria","index","criteria","_a","_b","_c"],"mappings":"AAAA,MAAAA,EAAe,q8CCET,CAAE,MAAAC,CAAK,EAAK,SACZ,CAAE,iBAAAC,EAAkB,SAAAC,GAAa,SAAS,KAEhDC,EAAe,CACX,SAAAJ,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,aAAa,CACrC,EAEI,MAAO,CACH,MAAO,CACH,uBAAwB,IACpC,CACA,EAEI,SAAU,CACN,wBAAyB,CACrB,OAAO,KAAK,kBAAkB,OAAO,qBAAqB,CACtE,EAEQ,iBAAkB,CACd,MAAO,CACH,CACI,GAAI,EACJ,MAAO,MACP,MAAO,KAAK,IAAI,mEAAmE,CACvG,EACgB,CACI,GAAI,EACJ,MAAO,SACP,MAAO,KAAK,IAAI,sEAAsE,CAC1G,CACA,CACA,CACA,EAEI,SAAU,CACN,KAAK,iBAAgB,CAC7B,EAEI,QAAS,CACL,MAAM,kBAAmB,CACrB,KAAK,kBAAkB,qBAAqB,EAC5C,KAAK,gBAAgB,qBAAqB,EAE1C,MAAM,KAAK,mBAAkB,CACzC,EAEQ,MAAM,oBAAqB,CAOvB,GANA,KAAK,uBAAyB,IAAIC,EAC9B,KAAK,uBAAuB,MAC5B,KAAK,uBAAuB,OAAO,OACnC,SAAS,QAAQ,GACjC,EAEgB,KAAK,QAAQ,OAAO,eAAe,MAAM,QAAU,EACnD,OAGJ,MAAMG,EAAW,IAAIF,EACrBE,EAAS,OAAO,KAAK,QAAQ,OAAO,eAAe,KAAK,EAExD,KAAK,uBAAyB,MAAM,KAAK,uBAAuB,OAAOA,EAAU,SAAS,QAAQ,GAAG,CACjH,EAEQ,wBAAyB,CDtEjC,IAAAC,EAAAC,EAAAC,ECuEY,KAAK,QAAQ,OAAO,eAAe,MAAQ,KAAK,uBAAuB,OAAM,GAEzED,GAAAD,EAAA,KAAK,QAAQ,aAAb,YAAAA,EAAyB,SAAzB,MAAAC,EAAiC,iBACjC,KAAK,QAAQ,WAAW,OAAO,eAAiB,KAAK,uBAAuB,OAAM,IAGjFC,EAAA,KAAK,UAAL,MAAAA,EAAc,OAInB,KAAK,QAAQ,KAAK,eAAiB,KAAK,uBACpD,CACA,CACA"}