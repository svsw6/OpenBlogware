const l=`{% block werkl_cms_element_blog_newest_listing_config %} <div class="werkl-cms-el-config-blog-newest-listing"> {% block werkl_cms_element_blog_newest_listing_config_item_count %} <mt-number-field v-model="element.config.itemCount.value" number-type="int" :min="1" :max="null" :digits="2" :allow-empty="false" :label="$tc('werkl-blog.elements.blogNewestListing.config.itemCount')" /> {% endblock %} {% block werkl_cms_element_blog_newest_listing_config_offset_count %} <mt-number-field v-model="element.config.offsetCount.value" number-type="int" :min="0" :max="null" :digits="2" :allow-empty="false" :label="$tc('werkl-blog.elements.blogNewestListing.config.offsetCount')" /> {% endblock %} {% block werkl_cms_element_blog_newest_listing_config_show_type %} <mt-select v-model="element.config.showType.value" :options="showTypeOptions" :label="$tc('werkl-blog.elements.blogNewestListing.config.showType.label')" /> {% endblock %} {% block werkl_cms_element_blog_newest_listing_config_blog_categories %} <werkl-blog-category-tree-field v-if="element.config.showType.value === 'select'" :categories-collection="blogCategoryCollection" :label="$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.label')" :placeholder="$tc('werkl-blog.elements.blogNewestListing.config.blogCategories.placeholder')" class="sw-product-detail__select-category" @selection-add="onBlogCategoriesChange" @selection-remove="onBlogCategoriesChange" /> {% endblock %} </div> {% endblock %}`,{Mixin:i}=Shopware,{EntityCollection:n,Criteria:s}=Shopware.Data,g={template:l,inject:["repositoryFactory"],mixins:[i.getByName("cms-element")],data(){return{blogCategoryCollection:null}},computed:{blogCategoryRepository(){return this.repositoryFactory.create("werkl_blog_category")},showTypeOptions(){return[{id:1,value:"all",label:this.$tc("werkl-blog.elements.blogNewestListing.config.showType.options.all")},{id:2,value:"select",label:this.$tc("werkl-blog.elements.blogNewestListing.config.showType.options.select")}]}},created(){this.createdComponent()},methods:{async createdComponent(){this.initElementConfig("blog-newest-listing"),this.initElementData("blog-newest-listing"),await this.loadBlogCategories()},async loadBlogCategories(){if(this.blogCategoryCollection=new n(this.blogCategoryRepository.route,this.blogCategoryRepository.schema.entity,Shopware.Context.api),this.element.config.blogCategories.value.length<=0)return;const e=new s;e.setIds(this.element.config.blogCategories.value),this.blogCategoryCollection=await this.blogCategoryRepository.search(e,Shopware.Context.api)},onBlogCategoriesChange(){var e,t,o;this.element.config.blogCategories.value=this.blogCategoryCollection.getIds(),(t=(e=this.element.translated)==null?void 0:e.config)!=null&&t.blogCategories&&(this.element.translated.config.blogCategories=this.blogCategoryCollection.getIds()),(o=this.element)!=null&&o.data&&(this.element.data.blogCategories=this.blogCategoryCollection)}}};export{g as default};
//# sourceMappingURL=index-2sNIYJlr.js.map
