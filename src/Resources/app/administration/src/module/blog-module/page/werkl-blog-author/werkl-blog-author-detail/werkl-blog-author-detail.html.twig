{% block werkl_blog_author_detail %}
<sw-page class="werkl-blog-author-detail">
    <template #smart-bar-header>
        <h2>
            {% block werkl_blog_author_detail_smart_bar_header_title_text %}
            {{ salutation(blogAuthor) || $tc('werkl-blog-author.detail.title') }}
            {% endblock %}
        </h2>
    </template>

    <template #smart-bar-actions>
        <mt-button
            variant="secondary"
            size="default"
            @click="$router.push({ name: 'blog.module.author.index' })"
        >
            {{ $tc('werkl-blog-author.detail.buttonCancel') }}
        </mt-button>

        <sw-button-process
            :is-loading="isLoading"
            :process-success="processSuccess"
            variant="primary"
            @update:process-success="saveFinish"
            @click="onSave"
        >
            {{ $tc('werkl-blog-author.detail.buttonSave') }}
        </sw-button-process>

    </template>

    <template #content>
        <sw-card-view>
            <sw-card v-if="blogAuthor" :isLoading="isLoading" :title="$tc('werkl-blog-author.detail.title')">
                <sw-container columns="2fr 4fr 4fr" gap="16px">
                    <sw-entity-single-select
                        v-model:value="blogAuthor.salutationId"
                        class="werkl-blog-author-base-form__salutation-select"
                        entity="salutation"
                        label-property="displayName"
                        required
                        :label="$tc('werkl-blog-author.detail.salutation.label')"
                        :placeholder="$tc('werkl-blog-author.detail.salutation.placeholder')"
                        :error="blogAuthorSalutationIdError"
                    />

                    <mt-text-field
                        v-model="blogAuthor.firstName"
                        required
                        :label="$tc('werkl-blog-author.detail.firstName.label')"
                        :placeholder="$tc('werkl-blog-author.detail.firstName.placeholder')"
                        :error="blogAuthorFirstNameError"
                    />

                    <mt-text-field
                        v-model="blogAuthor.lastName"
                        required
                        :label="$tc('werkl-blog-author.detail.lastName.label')"
                        :placeholder="$tc('werkl-blog-author.detail.lastName.placeholder')"
                        :error="blogAuthorLastNameError"
                    />
                </sw-container>

                <sw-container columns="6fr 4fr" gap="24px">
                    <mt-text-field
                        v-model="blogAuthor.displayName"
                        :label="$tc('werkl-blog-author.detail.displayName.label')"
                        :placeholder="$tc('werkl-blog-author.detail.displayName.placeholder')"
                        :error="blogAuthorDisplayNameError"
                    />

                    <mt-text-field
                        v-model="blogAuthor.email"
                        required
                        :label="$tc('werkl-blog-author.detail.email.label')"
                        :placeholder="$tc('werkl-blog-author.detail.email.placeholder')"
                        :error="blogAuthorEmailError"
                    />
                </sw-container>

                <sw-container columns="1fr" gap="32px">
                    <sw-text-editor
                        v-model:value="blogAuthor.description"
                        :label="$tc('werkl-blog-author.detail.description.label')"
                        :placeholder="$tc('werkl-blog-author.detail.description.placeholder')"
                        :error="blogAuthorDescriptionError"
                    />
                </sw-container>

                <sw-upload-listener
                    :uploadTag="blogAuthor.id"
                    auto-upload
                    @media-upload-finish="onSetMediaItem"
                />

                <sw-media-upload-v2
                    variant="regular"
                    :allow-multi-select="false"
                    default-folder="werkl_blog_author"
                    :disabled="isLoading"
                    :file-accept="fileAccept"
                    :label="$tc('werkl-blog-author.detail.media.label')"
                    :upload-tag="blogAuthor.id"
                    :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')"
                    :source="blogAuthor.mediaId"
                    @media-upload-remove-image="onRemoveMediaItem"
                    @media-drop="onMediaDropped"
                />
            </sw-card>
        </sw-card-view>
    </template>
</sw-page>
{% endblock %}
