const n=`{% block werkl_cms_element_blog_config %} <div class="werkl-cms-el-config-blog"> {% block werkl_cms_element_blog_config_pagination_count %} <mt-number-field v-model="element.config.paginationCount.value" number-type="int" :allow-empty="false" :min="1" :max="null" :digits="2" :label="$tc('werkl-blog.elements.blog.config.paginationCount')" /> {% endblock %} {% block werkl_cms_element_blog_config_show_type %} <mt-select v-model="element.config.showType.value" :options="showTypeOptions" :label="$tc('werkl-blog.elements.blog.config.showType.label')" /> {% endblock %} {% block werkl_cms_element_blog_config_blog_categories %} <werkl-blog-category-tree-field v-if="element.config.showType.value === 'select'" :categories-collection="blogCategoryCollection" :label="$tc('werkl-blog.elements.blog.config.blogCategories.label')" :placeholder="$tc('werkl-blog.elements.blog.config.blogCategories.placeholder')" class="sw-product-detail__select-category" @selection-add="onBlogCategoriesChange" @selection-remove="onBlogCategoriesChange" /> {% endblock %} {% block werkl_cms_element_blog_config_show_tags %} <mt-select v-model="element.config.showTags.value" :options="showTagsOptions" :label="$tc('werkl-blog.elements.blog.config.showTags.label')" /> {% endblock %} {% block werkl_cms_element_blog_config_tags %} <sw-entity-tag-select v-if="element.config.showTags.value === 'select'" v-model:entity-collection="tagCollection" :label="$tc('werkl-blog.elements.blog.config.blogTags.label')" :placeholder="$tc('werkl-blog.elements.blog.config.blogTags.placeholder')" @update:entity-collection="onTagsChange" /> {% endblock %} {% block werkl_cms_element_blog_config_filter %} <sw-card :title="$tc('werkl-blog.elements.blog.config.showFilter.label')" :hero="false" :isLoading="false" :large="false" class="werkl-cms-el-config-blog-filter"> {% block block_werkl_cms_element_blog_config_filter_show_category %} <mt-checkbox v-model:checked="element.config.showCategoryFilter.value" :label="$tc('werkl-blog.elements.blog.config.showFilter.options.filter.category')" /> {% endblock %} {% block block_werkl_cms_element_blog_config_filter_show_author %} <mt-checkbox v-model:checked="element.config.showAuthorFilter.value" :label="$tc('werkl-blog.elements.blog.config.showFilter.options.filter.author')" /> {% endblock %} </sw-card> {% endblock %} </div> {% endblock %}`,{Mixin:s}=Shopware,{EntityCollection:t,Criteria:i}=Shopware.Data,a={template:n,inject:["repositoryFactory"],emits:["element-update"],mixins:[s.getByName("cms-element")],data(){return{blogCategoryCollection:null,tagCollection:null}},computed:{blogCategoryRepository(){return this.repositoryFactory.create("werkl_blog_category")},tagRepository(){return this.repositoryFactory.create("tag")},showTypeOptions(){return[{id:1,value:"all",label:this.$tc("werkl-blog.elements.blog.config.showType.options.all")},{id:2,value:"select",label:this.$tc("werkl-blog.elements.blog.config.showType.options.select")}]},showTagsOptions(){return[{id:1,value:"all",label:this.$tc("werkl-blog.elements.blog.config.showTags.options.all")},{id:2,value:"select",label:this.$tc("werkl-blog.elements.blog.config.showTags.options.select")}]}},created(){this.createdComponent()},methods:{async createdComponent(){this.initElementConfig("blog"),this.initElementData("blog"),await this.loadBlogCategories(),await this.loadTags()},async loadBlogCategories(){if(this.blogCategoryCollection=new t(this.blogCategoryRepository.route,this.blogCategoryRepository.schema.entity,Shopware.Context.api),this.element.config.blogCategories.value.length<=0)return;const e=new i;e.setIds(this.element.config.blogCategories.value),this.blogCategoryCollection=await this.blogCategoryRepository.search(e,Shopware.Context.api)},async loadTags(){if(this.tagCollection=new t(this.tagRepository.route,this.tagRepository.schema.entity,Shopware.Context.api),this.element.config.blogTags.value.length<=0)return;const e=new i;e.setIds(this.element.config.blogTags.value),this.tagCollection=await this.tagRepository.search(e,Shopware.Context.api)},onBlogCategoriesChange(){var e,o,l;this.element.config.blogCategories.value=this.blogCategoryCollection.getIds(),(o=(e=this.element.translated)==null?void 0:e.config)!=null&&o.blogCategories&&(this.element.translated.config.blogCategories=this.blogCategoryCollection.getIds()),(l=this.element)!=null&&l.data&&(this.element.data.blogCategories=this.blogCategoryCollection)},onTagsChange(){var e,o,l;this.element.config.blogTags.value=this.tagCollection.getIds(),(o=(e=this.element.translated)==null?void 0:e.config)!=null&&o.blogTags&&(this.element.translated.config.blogTags=this.tagCollection.getIds()),(l=this.element)!=null&&l.data&&(this.element.data.blogTags=this.tagCollection)}}};export{a as default};
//# sourceMappingURL=index-muwxHlYF.js.map
